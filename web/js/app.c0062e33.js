(function(){"use strict";var e={9495:function(e,t,n){n(2166);var o=n(9242),s=n(1020),a=n(3494),l=n(7749),i=n(8539),r=n(3396),c=n(4870),u=n(2483),d={__name:"App",setup(e){return(e,t)=>((0,r.wg)(),(0,r.j4)((0,c.SU)(u.MA)))}};const h=d;var m=h;function g(){return{}}const p=g(),f=(0,s.Q_)("ws",{state:()=>({socket:new WebSocket("ws://"+document.location.host+"/api/ws")}),getters:{},actions:{Connect(){this.socket=new WebSocket("ws://"+document.location.host+"/api/ws")},Init(){let e=this;void 0!=e.socket&&null!=e.socket||e.Connect(),e.socket.addEventListener("message",(e=>{if(!e.data)return;let t=JSON.parse(e.data),n=p[t.tp];void 0!==n?n(t):console.log("[WARNING] Обработчик не найден:",t)})),e.socket.addEventListener("close",(t=>{console.log("[WARNING] WebSocket close:",t),e.Connect()})),e.socket.addEventListener("error",(t=>{console.log("[WARNING] WebSocket error:",t),e.Connect()}))},Send(e){void 0!=e&&void 0!=this.socket&&null!=this.socket&&this.socket.send(JSON.stringify(e))},Close(){this.socket.close(1e3,"работа закончена")},Socket(){return this.socket}}}),v={class:"d-flex flex-column flex-shrink-0 p-3 text-white bg-dark",style:{width:"280px",height:"100vh"}},b=(0,r._)("a",{href:"/",class:"d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none"},[(0,r._)("span",{class:"fs-4"},"DocService")],-1),_=(0,r._)("hr",null,null,-1),w={class:"nav nav-pills flex-column mb-auto"},k={class:"nav-item"},x={class:"mb-1"},S=(0,r._)("button",{class:"btn btn-toggle align-items-center rounded collapsed text-white","data-bs-toggle":"collapse","data-bs-target":"#dashboard-collapse","aria-expanded":"false"}," Микросервисы ",-1),y={class:"collapse show",id:"dashboard-collapse"},I={class:"btn-toggle-nav list-unstyled fw-normal pb-1 small ps-4"},O=(0,r._)("li",null,[(0,r._)("a",{href:"#",class:"nav-link text-white"}," Orders ")],-1),N=(0,r._)("hr",null,null,-1),j=(0,r._)("div",{class:"dropdown"},[(0,r._)("small",null,"Демонстрационный проект")],-1),L={};var A=Object.assign(L,{__name:"LeftMenu",setup(e){return(e,t)=>((0,r.wg)(),(0,r.iD)("div",v,[b,_,(0,r._)("ul",w,[(0,r._)("li",k,[(0,r.Wm)((0,c.SU)(u.rH),{to:"/gui/",class:"nav-link active","aria-current":"page"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Главная ")])),_:1})]),(0,r._)("li",x,[S,(0,r._)("div",y,[(0,r._)("ul",I,[(0,r._)("li",null,[(0,r.Wm)((0,c.SU)(u.rH),{to:"/gui/services/docx",class:"nav-link text-white"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Docx ")])),_:1})])])])]),O]),N,j]))}});const C=A;var W=C;const E={class:"d-flex bd-highlight",style:{height:"100vh"}},P={class:"bd-highlight"},D=(0,r._)("div",{class:"flex-fill bd-highlight b-site"},[(0,r._)("main",null,[(0,r._)("h1",null,"Главная страница")])],-1);var G={__name:"HomeView",setup(e){const t=f();return t.Send({tp:"test_data"}),(e,t)=>((0,r.wg)(),(0,r.iD)("div",E,[(0,r._)("div",P,[(0,r.Wm)(W)]),D]))}};const T=G;var q=T;const M=e=>((0,r.dD)("data-v-cf154ab6"),e=e(),(0,r.Cn)(),e),U=M((()=>(0,r._)("div",{class:"b-noise"},null,-1))),H={class:"text-center text-lg-start"},J={class:"container fone"},R={class:"row d-flex justify-content-center"},B={class:"col-lg-6 mb-5 mb-lg-0 mt-5"},Q={class:"card cascading-right"},V={class:"card-body p-5 shadow-5 text-center"},F=M((()=>(0,r._)("h2",{class:"fw-bold mb-5"},"Авторизация",-1))),Z={class:"form-outline mb-4"},z=["value"],K={class:"form-outline mb-4"},X=["value"],Y=M((()=>(0,r._)("div",{class:"form-check d-flex justify-content-center mb-4"},[(0,r._)("input",{class:"form-check-input me-2",type:"checkbox",value:"",id:"form2Example33",checked:""}),(0,r._)("label",{class:"form-check-label",for:"form2Example33"}," Subscribe to our newsletter ")],-1)));function $(e,t,n,o,s,a){return(0,r.wg)(),(0,r.iD)("main",null,[U,(0,r._)("section",H,[(0,r._)("div",J,[(0,r._)("div",R,[(0,r._)("div",B,[(0,r._)("div",Q,[(0,r._)("div",V,[F,(0,r._)("div",Z,[(0,r._)("input",{type:"text",class:"form-control",placeholder:"Логин",value:o.auth.login,onInput:t[0]||(t[0]=e=>o.auth.login=e.target.value)},null,40,z)]),(0,r._)("div",K,[(0,r._)("input",{type:"password",class:"form-control",placeholder:"Пароль",value:o.auth.password,onInput:t[1]||(t[1]=e=>o.auth.password=e.target.value)},null,40,X)]),Y,(0,r._)("button",{type:"submit",class:"btn btn-primary btn-block mb-4",onClick:t[2]||(t[2]=e=>o.auth.Login())}," Войти ")])])])])])])])}n(7658);const ee=(0,s.Q_)("auth",{state:()=>({token:"",login:"",password:""}),getters:{IsLoggedIn:e=>{let t=!1;return""!=e.token&&(t=!0),t}},actions:{Login(){this.login=this.login.trim(),console.log("отправка"),fetch("/api/v1/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:this.login,password:this.password,saveSessions:this.GetSaveSessions})}).then((e=>e.json())).then((e=>{this.message=e.message,this.password="",1===e.status&&(this.token=e.token,this.isLogin=!0,localStorage.setItem("token",e.token),localStorage.setItem("email",e.email),localStorage.setItem("name",e.name),localStorage.setItem("lastName",e.lastName),localStorage.setItem("saveSessions",this.GetSaveSessions),localStorage.setItem("socketAdr",e.socketAdr),console.log("Авторизация"),this.email=e.email,this.name=e.name,this.lastName=e.lastName,window.socket.Init(e.socketAdr),le.push("/gui/"))}))},IsLogin(){}}});var te={name:"LoginView",setup(){let e=ee();return{auth:e}},data(){return{login:"",password:""}},methods:{Send(){}},components:{}},ne=n(89);const oe=(0,ne.Z)(te,[["render",$],["__scopeId","data-v-cf154ab6"]]);var se=oe;const ae=(0,u.p7)({history:(0,u.PO)("/"),routes:[{path:"/gui/",name:"home",component:q,meta:{requiresAuth:!0,pageName:"Главная"}},{path:"/gui/login",name:"login",component:se,meta:{requiresAuth:!1,pageName:"Авторизация"}},{path:"/gui/services/docx",name:"Микросервисы docx",component:se,meta:{requiresAuth:!0,pageName:"Микросервисы docx"}}]});ae.beforeEach((e=>{const t=ee();if(t.IsLoggedIn&&t.IsLogin(),e.meta.pageName&&(document.title=e.meta.pageName),e.meta.requiresAuth&&!t.IsLoggedIn)return{path:"/gui/login",query:{redirect:e.fullPath}}}));var le=ae;a.vI.add(i.BC0);const ie=(0,o.ri)(m);ie.component("font-awesome-icon",l.GN),ie.use((0,s.WB)()),ie.use(le),ie.mount("#app")}},t={};function n(o){var s=t[o];if(void 0!==s)return s.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,o,s,a){if(!o){var l=1/0;for(u=0;u<e.length;u++){o=e[u][0],s=e[u][1],a=e[u][2];for(var i=!0,r=0;r<o.length;r++)(!1&a||l>=a)&&Object.keys(n.O).every((function(e){return n.O[e](o[r])}))?o.splice(r--,1):(i=!1,a<l&&(l=a));if(i){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[o,s,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,a,l=o[0],i=o[1],r=o[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(s in i)n.o(i,s)&&(n.m[s]=i[s]);if(r)var u=r(n)}for(t&&t(o);c<l.length;c++)a=l[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(u)},o=self["webpackChunkdoc_service_gui"]=self["webpackChunkdoc_service_gui"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(9495)}));o=n.O(o)})();
//# sourceMappingURL=app.c0062e33.js.map